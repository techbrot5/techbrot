<!doctype html>
<html lang="en">
<head>
  <meta charset="utf-8" />
  <title>Dashboard â€” TechBrot Admin</title>
  <meta name="viewport" content="width=device-width,initial-scale=1" />
  <link rel="stylesheet" href="/admin/dashboard.css">
</head>
<body>
  <header class="header">
    <div class="container" style="display:flex;align-items:center;justify-content:space-between">
      <div style="display:flex;gap:12px;align-items:center">
        <div class="brand">TechBrot Admin</div>
        <div class="small">/dashboard</div>
      </div>

      <div style="display:flex;gap:10px;align-items:center">
        <div id="adminStatus" class="small">Locked</div>
        <button id="lockBtn" class="btn ghost">Lock</button>
      </div>
    </div>
  </header>

  <main class="container">
    <div class="card">
      <div class="filter-row" style="justify-content:space-between">
        <div style="display:flex;gap:8px;align-items:center;flex:1">
          <input id="q" class="input" placeholder="Search order id, email, stripe session..." style="flex:1" />
          <select id="filter" class="input">
            <option value="">All</option>
            <option value="verified">Verified</option>
            <option value="unverified">Unverified</option>
          </select>

          <input id="fromDate" type="date" class="input" />
          <input id="toDate" type="date" class="input" />

          <input id="minAmount" class="input" placeholder="Min amount" style="width:120px" />
          <input id="maxAmount" class="input" placeholder="Max amount" style="width:120px" />

          <button id="searchBtn" class="btn">Search</button>
        </div>

        <div style="display:flex;gap:8px">
          <button id="exportAllBtn" class="btn secondary">Export All (ZIP)</button>
          <button id="loginBtn" class="btn ghost">Unlock</button>
        </div>
      </div>

      <div class="table-wrap" style="margin-top:12px">
        <table id="resultsTable" aria-live="polite">
          <thead>
            <tr><th>Order ID</th><th>Email</th><th>Amount</th><th>Currency</th><th>Verified</th><th>Created</th><th>Risk</th><th>Actions</th></tr>
          </thead>
          <tbody id="resultsBody">
            <tr><td colspan="8" class="small">Enter PIN to unlock dashboard and search orders.</td></tr>
          </tbody>
        </table>
      </div>
      <div class="footer small">PIN-based admin. Keep PIN secret. Uses Cloudflare D1 & R2.</div>
    </div>
  </main>

  <script src="/admin/dashboard.js"></script>
</body>
</html>
